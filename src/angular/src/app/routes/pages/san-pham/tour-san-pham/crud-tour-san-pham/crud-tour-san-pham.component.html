<ora-page-header [title]="title" [action]="action">
    <ng-template #action>
        <button type="button" nz-button nzType="default" (click)="close()"><i nz-icon nzType="arrow-left"></i> Quay
            lại</button>
    </ng-template>
</ora-page-header>
<nz-tabset>
    <nz-tab nzTitle="Thông tin chung">
        <form [formGroup]="rfForm">
            <nz-row [nzGutter]="16">
                <nz-col [nzSpan]="24">
                    <nz-form-item [nzGutter]="16">
                        <nz-form-label class="label" [nzSpan]="4">Mã</nz-form-label>
                        <nz-form-control [nzSpan]="6">
                            <input nz-input formControlName="ma" />
                        </nz-form-control>
                    </nz-form-item>
                </nz-col>
                <nz-col [nzSpan]="24">
                    <nz-form-item [nzGutter]="16">
                        <nz-form-label class="label" [nzSpan]="4">Tên</nz-form-label>
                        <nz-form-control>
                            <input nz-input formControlName="ten" />
                        </nz-form-control>
                    </nz-form-item>
                </nz-col>
                <nz-col [nzSpan]="24">
                    <nz-form-item [nzGutter]="16">
                        <nz-form-label class="label" [nzSpan]="4">Ảnh bìa</nz-form-label>
                        <nz-form-control [nzSm]="8">
                            <nz-upload class="image-upload" [nzAction]="uploadUrl" nzName="avatar"
                                nzListType="picture-card" [nzShowUploadList]="false" (nzChange)="handleChange($event)">
                                <ng-container *ngIf="!imageUrl">
                                    <i class="upload-icon" nz-icon
                                        [nzType]="loadingImage ? 'loading' : 'plus-circle'"></i>
                                    &nbsp;
                                    <div class="ant-upload-text">Upload</div>
                                </ng-container>
                                <img nz-image *ngIf="imageUrl" [nzSrc]="imageUrl"
                                    [style]="'width: 100%; height: 100%; object-fit:cover; '" nzScaleStep="0.2"
                                    [style.pointer-events]="isView ? 'auto' : 'none'"
                                    [style.cursor]="isView ? 'pointer' : 'default'" />
                            </nz-upload>
                        </nz-form-control>
                    </nz-form-item>
                </nz-col>
                <nz-col [nzSpan]="24">
                    <nz-form-item [nzGutter]="16">
                        <nz-form-label class="label" [nzSpan]="4">Số ngày</nz-form-label>
                        <nz-form-control [nzSpan]="6">
                            <nz-input-number formControlName="soNgay"></nz-input-number>
                        </nz-form-control>
                        <nz-form-label class="label" [nzSpan]="4">Số đêm</nz-form-label>
                        <nz-form-control [nzSpan]="6">
                            <nz-input-number formControlName="soDem"></nz-input-number>
                        </nz-form-control>
                    </nz-form-item>
                </nz-col>
                <nz-col [nzSpan]="24">
                    <nz-form-item [nzGutter]="16">
                        <nz-form-label class="label" [nzSpan]="4">Loại tour</nz-form-label>
                        <nz-form-control [nzSpan]="6">
                            <ora-select dirLoaiTour formControlName="loaiTourCode"></ora-select>
                        </nz-form-control>
                        <nz-form-label class="label" [nzSpan]="4">Loại hình thái du lịch</nz-form-label>
                        <nz-form-control [nzSpan]="6">
                            <ora-select dirLoaiHinhThaiDuLich formControlName="loaiHinhDuLichCode"></ora-select>
                        </nz-form-control>
                    </nz-form-item>
                </nz-col>
                <nz-col [nzSpan]="24">
                    <nz-form-item [nzGutter]="16">
                        <nz-form-label class="label" [nzSpan]="4">Quốc gia</nz-form-label>
                        <nz-form-control [nzSpan]="6">
                            <ora-select formControlName="quocGiaId" dirQuocGia></ora-select>
                        </nz-form-control>
                        <nz-form-label class="label" [nzSpan]="4">Tỉnh</nz-form-label>
                        <nz-form-control [nzSpan]="6">
                            <ora-select formControlName="tinhId" dirTinh></ora-select>
                        </nz-form-control>
                    </nz-form-item>
                </nz-col>
                <nz-col [nzSpan]="24">
                    <nz-form-item [nzGutter]="16">
                        <nz-form-label class="label" [nzSpan]="4">Điểm khởi hành</nz-form-label>
                        <nz-form-control>
                            <input nz-input formControlName="diemKhoiHanh" />
                        </nz-form-control>
                    </nz-form-item>
                </nz-col>
                <nz-col [nzSpan]="24">
                    <nz-form-item [nzGutter]="16">
                        <nz-form-label class="label" [nzSpan]="4">Điểm đến</nz-form-label>
                        <nz-form-control>
                            <input nz-input formControlName="diemDen" />
                        </nz-form-control>
                    </nz-form-item>
                </nz-col>
                <nz-col [nzSpan]="24">
                    <nz-form-item [nzGutter]="16">
                        <nz-form-label class="label" [nzSpan]="4">Ghi chú</nz-form-label>
                        <nz-form-control>
                            <textarea nz-input formControlName="ghiChu"></textarea>
                        </nz-form-control>
                    </nz-form-item>
                </nz-col>
            </nz-row>
        </form>
        <div class="footerbutton">
            <button type="button" nz-button nzType="primary" (click)="save()">
                <i nz-icon nzType="save"></i>Lưu thông tin
            </button>
        </div>
    </nz-tab>
    <nz-tab *ngIf="id" nzTitle="Chương trình Tour">
        <chuong-trinh-tour [tourSanPhamId]="id"></chuong-trinh-tour>
    </nz-tab>
</nz-tabset>