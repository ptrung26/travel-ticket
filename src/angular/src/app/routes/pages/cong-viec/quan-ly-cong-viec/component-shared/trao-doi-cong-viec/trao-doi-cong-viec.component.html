<form [formGroup]="rfFormData">
  <div class="flex-center justify-content-between">
    <label class="flex-1">
      <textarea formControlName="noiDung" nz-input placeholder="Nhập nội dung trao đổi..."></textarea>
    </label>
    <button class="margin-left-15" (click)="post()" [disabled]="!rfFormData.value.noiDung" nz-button>Đăng</button>
  </div>
</form>

<ora-table
  [rows]="dataList"
  [(page)]="pageNumber"
  [(pageSize)]="pageSize"
  [isLoading]="isTableLoading"
  [totalRows]="totalItems"
  (pageChange)="pageNumberChange()"
  (pageSizeChange)="refresh()"
  (sortChange)="gridSort($event)"
>
  <ora-column align="center" header="STT" width="50px">
    <ng-template let-data oraCell>
      {{ skipCount + dataList.indexOf(data) + 1 }}
    </ng-template>
  </ora-column>
  <ora-column header="Người đăng" key="hoTen" width="120px"></ora-column>
  <ora-column header="Ảnh" width="70px" align="center" headerAlign="center">
    <ng-template let-data oraCell>
      <nz-avatar [nzSrc]="sourceAvatar + data.userId" nzIcon="user"></nz-avatar>
    </ng-template>
  </ora-column>
  <ora-column header="Nội dung" key="noiDung" width="400px"></ora-column>
  <ora-column header="Ngày đăng" width="150px">
    <ng-template let-data oraCell>
      {{ data.ngayDang | date : 'dd/MM/yyyy hh:mm a' }}
    </ng-template>
  </ora-column>
  <ora-column align="center" fixRight header="Thao tác" width="70px">
    <ng-template let-data oraCell>
      <button (click)="delete(data)" *ngIf="data.isMyPost" nz-button nz-tooltip="Xóa" nzType="text">
        <i nz-icon nzTheme="outline" nzType="delete"></i>
      </button>
    </ng-template>
  </ora-column>
</ora-table>
