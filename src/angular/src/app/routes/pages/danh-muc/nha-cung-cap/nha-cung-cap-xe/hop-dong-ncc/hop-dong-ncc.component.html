<ng-container *ngIf="viewShow=='list'">
    <ora-page-header title="Hợp đồng" [action]="actionHeader">
        <ng-template #actionHeader>
            <button nz-button nzType="primary" (click)="showCreateOrUpdate()">
                <i nz-icon nzType="plus-circle" nzTheme="outline"></i>Thêm mới
            </button>
        </ng-template>
    </ora-page-header>
    <ora-layout-filter (onSearch)="refresh()">
        <form nz-form [formGroup]="rfForm" nzLayout="vertical">
            <nz-row nzGutter="8">
                <nz-col nzLg="6" nzSm="6">
                    <input formControlName="filter" nz-input placeholder="Nhập mã hợp đồng..." />
                </nz-col>
            </nz-row>
        </form>
    </ora-layout-filter>
    <ora-table [rows]="dataList" [isLoading]="isTableLoading" [totalRows]="totalItems" [(pageSize)]="pageSize"
        [(page)]="pageNumber" (pageChange)="pageNumberChange()" (sortChange)="gridSort($event)">
        <ora-column header="STT" width="100px" align="center">
            <ng-template oraCell let-data>
                {{ skipCount + dataList.indexOf(data) + 1 }}
            </ng-template>
        </ora-column>
        <ora-column header="Mã hợp đồng" key="ma" align="center" width="200px"></ora-column>
        <ora-column header="Loại hợp đồng" key="loaiHopDongDisplay" align="center"></ora-column>
        <ora-column header="Ngày ký" key="ngayKy" align="center">
            <ng-template let-data oraCell>
                {{ data.ngayKy | date : 'dd/MM/yyyy' }}
            </ng-template>
        </ora-column>
        <ora-column header="Ngày hiệu lực" key="ngayHieuLuc" align="center">
            <ng-template let-data oraCell>
                {{ data.ngayHieuLuc | date : 'dd/MM/yyyy' }}
            </ng-template>
        </ora-column>
        <ora-column header="Ngày hết hạn" key="ngayHetHan" align="center">
            <ng-template let-data oraCell>
                {{ data.ngayHetHan | date : 'dd/MM/yyyy' }}
            </ng-template>
        </ora-column>
        <ora-column header="Người tạo hợp đồng" key="gguoiLapHopDong" align="center"></ora-column>
        <ora-column header="Trạng thái" key="tinhTrang" align="center" [content]="trangThaiContent" width="200px">
            <ng-template #trangThaiContent let-data="dataItem">
                <nz-tag *ngIf="data.tinhTrang === 1" [nzColor]="'#74E291'">
                    Tạo mới
                </nz-tag>
                <nz-tag *ngIf="data.tinhTrang === 2" [nzColor]="'#03d3fc'">
                    Đã ký
                </nz-tag>
                <nz-tag *ngIf="data.tinhTrang === 3" [nzColor]="'#f93e3e'">
                    Đã huỷ
                </nz-tag>
            </ng-template>
        </ora-column>
        <ora-column header="Thao tác" [content]="contentAction" width="150px" align="center">
            <ng-template #contentAction let-data="dataItem">
                <a nz-button nzType="link" nz-tooltip="{{ 'Edit' | translate }}" (click)="showCreateOrUpdate(data)">
                    <i nz-icon nzType="edit"></i>
                </a>
                <a nz-button nzType="link" nzDanger nz-tooltip="{{ 'Delete' | translate }}" (click)="delete(data)">
                    <i nz-icon nzType="delete"></i>
                </a>
            </ng-template>
        </ora-column>
    </ora-table>
</ng-container>
<crud-hop-dong-xe *ngIf="viewShow =='create-or-update'" [id]="data?.id" [nhaCungCapId]="nhaCungCapId"
    (closeEvent)="viewShow = 'list'"></crud-hop-dong-xe>