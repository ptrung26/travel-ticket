<form [formGroup]="rfDataModal" nz-form nzLayout="horizontal">
    <div [nzGutter]="16" nz-row>
        <div nz-col nzSpan="16">
            <nz-form-item>
                <nz-form-label [nzSm]="24" nzRequired>Tên nhà cung cấp</nz-form-label>
                <nz-form-control [nzSm]="24" nzErrorTip="Giá trị bắt buộc!">
                    <input formControlName="ten" nz-input>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24" nzRequired>Tên viết tắt</nz-form-label>
                <nz-form-control [nzSm]="24" nzErrorTip="Giá trị bắt buộc!">
                    <input formControlName="tenVietTat" nz-input>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24" nzRequired>Quốc gia</nz-form-label>
                <nz-form-control [nzSm]="24" nzErrorTip="Giá trị bắt buộc!">
                    <ora-select dirQuocTich formControlName="quocGiaId"></ora-select>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24" nzRequired>Tỉnh/Thành phố</nz-form-label>
                <nz-form-control [nzSm]="24" nzErrorTip="Giá trị bắt buộc!">
                    <ora-select dirTinh formControlName="tinhId"></ora-select>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24" nzRequired>Quận/Huyện</nz-form-label>
                <nz-form-control [nzSm]="24" nzErrorTip="Giá trị bắt buộc!">
                    <ora-select [tinhId]="rfDataModal.get('tinhId').value" dirHuyen
                        formControlName="huyenId"></ora-select>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24" nzRequired>Xã/Phường</nz-form-label>
                <nz-form-control [nzSm]="24" nzErrorTip="Giá trị bắt buộc!">
                    <ora-select [huyenId]="rfDataModal.get('huyenId').value" dirXa formControlName="xaId"></ora-select>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24" nzRequired>Địa chỉ</nz-form-label>
                <nz-form-control [nzSm]="24" nzErrorTip="Giá trị bắt buộc!">
                    <input formControlName="diaChi" nz-input>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24">Trụ sở tại Việt Nam</nz-form-label>
                <nz-form-control [nzSm]="24">
                    <input formControlName="truSo" nz-input>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24">Đại diện</nz-form-label>
                <nz-form-control [nzSm]="24">
                    <input formControlName="daiDien" nz-input>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24" nzRequired>Phân loại</nz-form-label>
                <nz-form-control [nzSm]="24" nzErrorTip="Giá trị bắt buộc!">
                    <nz-select [nzMaxTagCount]="1" [nzMaxTagPlaceholder]="tagPlaceHolderLoaiChuongTrinh"
                        formControlName="phanLoai" nzMode="multiple" nzPlaceHolder="Chọn loại chương trình"
                        style="width: 100%">
                        <nz-option *ngFor="let item of listPhanLoaiChuongTrinh" [nzLabel]="item.displayText"
                            [nzValue]="item.value + ''"></nz-option>
                    </nz-select>
                    <ng-template #tagPlaceHolderLoaiChuongTrinh let-selectedList>+ {{ selectedList.length
                        }}</ng-template>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24" nzRequired>Số đăng ký kinh doanh</nz-form-label>
                <nz-form-control [nzSm]="24" nzErrorTip="Giá trị bắt buộc!">
                    <input [maxLength]="13" formControlName="soDangKyKinhDoanh" nz-input>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24">Tên người đại diện</nz-form-label>
                <nz-form-control [nzSm]="24">
                    <input formControlName="tenNguoiDaiDien" nz-input>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24">Email người đại diện</nz-form-label>
                <nz-form-control [nzErrorTip]="emailError" [nzSm]="24">
                    <input formControlName="emailNguoiDaiDien" nz-input>
                </nz-form-control>
                <ng-template #emailError let-control>
                    <ng-container *ngIf="control.hasError('email')">{{ 'Email chưa đúng định dạng!' | translate
                        }}</ng-container>
                </ng-template>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24">Số điện thoại người đại diện</nz-form-label>
                <nz-form-control [nzErrorTip]="phoneError" [nzSm]="24">
                    <input formControlName="dienThoaiNguoiDaiDien" nz-input>
                </nz-form-control>
                <ng-template #phoneError let-control>
                    <ng-container *ngIf="control.hasError('phoneInvalid')"> Số điện thoại chưa hợp lệ</ng-container>
                </ng-template>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24">Logo</nz-form-label>
                <nz-form-control [nzSm]="24">
                    <nz-upload (nzChange)="handleChange($event)" [nzAction]="uploadUrl" [nzBeforeUpload]="beforeUpload"
                        [nzShowUploadList]="false" class="avatar-uploader" nzListType="picture-card" nzName="avatar">
                        <ng-container *ngIf="!logoUrl">
                            <i [nzType]="loadingAvatar ? 'loading' : 'plus-circle'" class="upload-icon" nz-icon></i>
                            &nbsp;
                            <div class="ant-upload-text">Ảnh 3x4</div>
                        </ng-container>
                        <img *ngIf="logoUrl" [src]="logoUrl | safe: 'resourceUrl'" alt="" style="width: 100%" />
                    </nz-upload>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label [nzSm]="24">Trạng thái</nz-form-label>
                <nz-form-control [nzSm]="24">
                    <nz-switch formControlName="trangThai"></nz-switch> &nbsp;
                    &nbsp; {{ rfDataModal.value?.trangThai == true ? 'Đang hoạt động' : 'Không hoạt động' }}
                </nz-form-control>
            </nz-form-item>
        </div>
    </div>
</form>
<div *nzModalFooter>
    <button (click)="close()" nz-button nzType="danger" type="button"><i nz-icon nzTheme="outline"
            nzType="close"></i>Đóng
    </button>
    <button (click)="save()" nz-button nzType="primary"><i nz-icon nzType="save"></i>Lưu</button>
</div>
<style>
    .avatar-uploader>.ant-upload {
        width: 128px;
        height: 187px;
    }
</style>