<form nz-form [formGroup]="rfDataModal" nzLayout="horizontal">
  <nz-form-item>
    <nz-form-control [nzSm]="24">
      <nz-table nzTemplateMode>
        <thead>
          <tr>
            <th width="120px">Thao tác</th>
            <th nzAlign="center" width="80px">STT</th>
            <th nzAlign="center">Lỗi</th>
            <th nzAlign="center">Mã</th>
            <th nzAlign="center">Tên</th>
            <th nzAlign="center">Tên (En)</th>
            <th nzAlign="center">Alpha-2 code</th>
            <th nzAlign="center">Alpha-3 code</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let contr of datas.controls; index as i">
            <tr [formGroup]="contr" [ngClass]="contr.get('isValid').value ? '' : 'errorRows'">
              <td nzAlign="center">
                <a nz-button nzType="link" nzDanger nz-tooltip="{{ 'Delete' | translate }}" (click)="xoaBanGhi(i)">
                  <i nz-icon nzType="delete"></i>
                </a>
              </td>
              <td nzAlign="center">{{ i + 1 }}</td>
              <td nzAlign="center" style="color: red">
                <ul>
                  <li *ngFor="let e of contr.get('listError').value">{{ e }}</li>
                </ul>
              </td>

              <td>
                <nz-form-item>
                  <nz-form-control nzErrorTip="{{ 'Error_Required' | translate }}">
                    <input nz-input formControlName="id" />
                  </nz-form-control>
                </nz-form-item>
              </td>
              <td>
                <nz-form-item>
                  <nz-form-control nzErrorTip="{{ 'Error_Required' | translate }}">
                    <input nz-input formControlName="ten" />
                  </nz-form-control>
                </nz-form-item>
              </td>
              <td>
                <nz-form-item>
                  <nz-form-control>
                    <input nz-input formControlName="tenEn" />
                  </nz-form-control>
                </nz-form-item>
              </td>
              <td>
                <nz-form-item>
                  <nz-form-control nzErrorTip="{{ 'Error_Required' | translate }}">
                    <input nz-input formControlName="alpha2Code" />
                  </nz-form-control>
                </nz-form-item>
              </td>
              <td>
                <nz-form-item>
                  <nz-form-control nzErrorTip="{{ 'Error_Required' | translate }}">
                    <input nz-input formControlName="alpha3Code" />
                  </nz-form-control>
                </nz-form-item>
              </td>
            </tr>
          </ng-container>
        </tbody>
      </nz-table>
    </nz-form-control>
  </nz-form-item>
</form>

<div *nzModalFooter>
  <button type="button" nz-button nzType="default" (click)="close()">Đóng</button>
  <button [disabled]="this.totalCurrentError > 0" type="button" nz-button nzType="primary" (click)="save()">Nhập dữ liệu</button>
</div>
